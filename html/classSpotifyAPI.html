<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Mirror: SpotifyAPI Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Smart Mirror
   </div>
   <div id="projectbrief">Motion-controlled smart mirror used to fetch tweets, spotify songs, weather updates &amp; the time</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classSpotifyAPI-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SpotifyAPI Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class used to interface with Spotify API Class performs Spotify API authentication using a refresh token &amp; then performs API call to fetch recently played songs from a dummy account made for project.  
 <a href="classSpotifyAPI.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="SpotifyAPI_8h_source.html">SpotifyAPI.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SpotifyAPI:</div>
<div class="dyncontent">
<div class="center"><img src="classSpotifyAPI__inherit__graph.png" border="0" usemap="#SpotifyAPI_inherit__map" alt="Inheritance graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for SpotifyAPI:</div>
<div class="dyncontent">
<div class="center"><img src="classSpotifyAPI__coll__graph.png" border="0" usemap="#SpotifyAPI_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 1 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab0d1896e2ab4c52f496eb494640a89b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#ab0d1896e2ab4c52f496eb494640a89b1">SpotifyAPI</a> ()</td></tr>
<tr class="memdesc:ab0d1896e2ab4c52f496eb494640a89b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize data members base_64_encoding_auth_request and refresh_request Initialize the data members to be used later for Spotify API authentication &amp; access.  <a href="classSpotifyAPI.html#ab0d1896e2ab4c52f496eb494640a89b1">More...</a><br /></td></tr>
<tr class="separator:ab0d1896e2ab4c52f496eb494640a89b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20209b8fde6f4f5f1ac27358136e615d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a20209b8fde6f4f5f1ac27358136e615d">~SpotifyAPI</a> ()=default</td></tr>
<tr class="separator:a20209b8fde6f4f5f1ac27358136e615d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40e30a70f52e595680f6c16133567ca0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a40e30a70f52e595680f6c16133567ca0">parseAccessToken</a> (std::string &amp;s)</td></tr>
<tr class="memdesc:a40e30a70f52e595680f6c16133567ca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse response from authentication request to retrieve access token Convert JSON response into a dictionary, parse response, retrieve access token &amp; store.  <a href="classSpotifyAPI.html#a40e30a70f52e595680f6c16133567ca0">More...</a><br /></td></tr>
<tr class="separator:a40e30a70f52e595680f6c16133567ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff3f8e1289c38a420ba7a3a58b5793e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a8ff3f8e1289c38a420ba7a3a58b5793e">getRecentlyPlayedTracks</a> ()</td></tr>
<tr class="memdesc:a8ff3f8e1289c38a420ba7a3a58b5793e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Using access token, trigger API call to retrieve recently played tracks Retrieve raw JSON response of recently played song data from Spotify API using cURL, store.  <a href="classSpotifyAPI.html#a8ff3f8e1289c38a420ba7a3a58b5793e">More...</a><br /></td></tr>
<tr class="separator:a8ff3f8e1289c38a420ba7a3a58b5793e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015768af234256f2d85f85690b179463"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a015768af234256f2d85f85690b179463">parseRecentTracks</a> ()</td></tr>
<tr class="memdesc:a015768af234256f2d85f85690b179463"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse response to retrieve recently played tracks Parse raw JSON response from Spotify API using dictionary, retrieve recently played songs &amp; store.  <a href="classSpotifyAPI.html#a015768af234256f2d85f85690b179463">More...</a><br /></td></tr>
<tr class="separator:a015768af234256f2d85f85690b179463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d73aace5f5bef0ab6cf0aa6200f814"><td class="memItemLeft" align="right" valign="top">std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a17d73aace5f5bef0ab6cf0aa6200f814">call</a> () override</td></tr>
<tr class="memdesc:a17d73aace5f5bef0ab6cf0aa6200f814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implemented function based on <a class="el" href="classAPIInterface.html" title="Interface to define general API object Different types of API objects implement interface (evident by...">APIInterface</a>; Perform authentication, retrieve song data and store Use refresh token generated to retrieve access token using cURL HTTP request to the Spotify access URL, then call other functions to retrieve song data &amp; store.  <a href="classSpotifyAPI.html#a17d73aace5f5bef0ab6cf0aa6200f814">More...</a><br /></td></tr>
<tr class="separator:a17d73aace5f5bef0ab6cf0aa6200f814"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6332aa85a7bcc1e380b9eeab4fe4f56b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a6332aa85a7bcc1e380b9eeab4fe4f56b">spotify_auth_response</a></td></tr>
<tr class="separator:a6332aa85a7bcc1e380b9eeab4fe4f56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4202bafa3fa12a99943ede3aa790ce1a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a4202bafa3fa12a99943ede3aa790ce1a">spotify_songs_response</a></td></tr>
<tr class="separator:a4202bafa3fa12a99943ede3aa790ce1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab977f7655481148ec4852a53dac944a2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#ab977f7655481148ec4852a53dac944a2">base_64_encoding_auth_request</a></td></tr>
<tr class="separator:ab977f7655481148ec4852a53dac944a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01581d1d9ec52159289057f787149c6b"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a01581d1d9ec52159289057f787149c6b">refresh_request</a></td></tr>
<tr class="separator:a01581d1d9ec52159289057f787149c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b06266b297641418b834112eea24e6"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#ae9b06266b297641418b834112eea24e6">access_token</a></td></tr>
<tr class="separator:ae9b06266b297641418b834112eea24e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd6390758a75ddccd5e44efdc81ac55"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a8bd6390758a75ddccd5e44efdc81ac55">recentSongs</a></td></tr>
<tr class="separator:a8bd6390758a75ddccd5e44efdc81ac55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8befbcbeae9ec6e166ce7e1589f8d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCurlHelper.html">CurlHelper</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a7d8befbcbeae9ec6e166ce7e1589f8d7">curl_token_make</a></td></tr>
<tr class="separator:a7d8befbcbeae9ec6e166ce7e1589f8d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4da61fecf40a5677c275b10d771161"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCurlHelper.html">CurlHelper</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a8e4da61fecf40a5677c275b10d771161">curl_response_make</a></td></tr>
<tr class="separator:a8e4da61fecf40a5677c275b10d771161"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class used to interface with Spotify API Class performs Spotify API authentication using a refresh token &amp; then performs API call to fetch recently played songs from a dummy account made for project. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab0d1896e2ab4c52f496eb494640a89b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0d1896e2ab4c52f496eb494640a89b1">&#9670;&nbsp;</a></span>SpotifyAPI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SpotifyAPI::SpotifyAPI </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize data members base_64_encoding_auth_request and refresh_request Initialize the data members to be used later for Spotify API authentication &amp; access. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ashwin Singh </dd></dl>
<div class="fragment"><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;                          {</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <a class="code" href="classSpotifyAPI.html#ab977f7655481148ec4852a53dac944a2">base_64_encoding_auth_request</a> = <span class="stringliteral">&quot;Authorization: Basic ODNjYjhjZmI5YTNkNGNkYmJiZDdlZmRmNTdmNzFkNWI6OTQ0ZjEwMDg1YWNmNDg0Mzk3ZDkwN2IzNTg0YTc3MWE=&quot;</span>;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <a class="code" href="classSpotifyAPI.html#a01581d1d9ec52159289057f787149c6b">refresh_request</a> = <span class="stringliteral">&quot;https://accounts.spotify.com/api/token?grant_type=refresh_token&amp;refresh_token=AQAdqYuGHig8gIwc9rf7ED4KZcPexZWeq3cRBxIUUaS7G3SsC8e7TG9oGEhGtE6PmknM2Pe_L09SQcXnnVudl80QoGhG4A5MsI_mn-hJos2ibLOPt59BWDVKnCRin9MDOv4&quot;</span>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a20209b8fde6f4f5f1ac27358136e615d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20209b8fde6f4f5f1ac27358136e615d">&#9670;&nbsp;</a></span>~SpotifyAPI()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SpotifyAPI::~SpotifyAPI </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a17d73aace5f5bef0ab6cf0aa6200f814"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17d73aace5f5bef0ab6cf0aa6200f814">&#9670;&nbsp;</a></span>call()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string &amp; SpotifyAPI::call </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented function based on <a class="el" href="classAPIInterface.html" title="Interface to define general API object Different types of API objects implement interface (evident by...">APIInterface</a>; Perform authentication, retrieve song data and store Use refresh token generated to retrieve access token using cURL HTTP request to the Spotify access URL, then call other functions to retrieve song data &amp; store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Formatted string of recently played songs </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ashwin Singh </dd></dl>

<p>Implements <a class="el" href="classAPIInterface.html#acfbf0916484ebab8ff7475c4d8a49833">APIInterface</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                            {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">//Access token expires every hour, therefore must authenticate on each API call to access song data</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keyword">struct </span>curl_slist *headers;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    headers = NULL;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    headers = curl_slist_append(headers, <span class="stringliteral">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    headers = curl_slist_append(headers, <a class="code" href="classSpotifyAPI.html#ab977f7655481148ec4852a53dac944a2">base_64_encoding_auth_request</a>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="classSpotifyAPI.html#a7d8befbcbeae9ec6e166ce7e1589f8d7">curl_token_make</a> = <span class="keyword">new</span> <a class="code" href="classCurlHelper.html">CurlHelper</a>(headers, <a class="code" href="classSpotifyAPI.html#a01581d1d9ec52159289057f787149c6b">refresh_request</a>, <span class="stringliteral">&quot;POST&quot;</span>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="classSpotifyAPI.html#a6332aa85a7bcc1e380b9eeab4fe4f56b">spotify_auth_response</a> = <a class="code" href="classSpotifyAPI.html#a7d8befbcbeae9ec6e166ce7e1589f8d7">curl_token_make</a>-&gt;<a class="code" href="classCurlHelper.html#a9429fc67cd5b674d10c7b76c0d5eb26e">get_response</a>();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="classSpotifyAPI.html#a40e30a70f52e595680f6c16133567ca0">parseAccessToken</a>(<a class="code" href="classSpotifyAPI.html#a6332aa85a7bcc1e380b9eeab4fe4f56b">spotify_auth_response</a>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="classSpotifyAPI.html#a8ff3f8e1289c38a420ba7a3a58b5793e">getRecentlyPlayedTracks</a>();</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="classSpotifyAPI.html#a015768af234256f2d85f85690b179463">parseRecentTracks</a>();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classSpotifyAPI.html#a8bd6390758a75ddccd5e44efdc81ac55">recentSongs</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ff3f8e1289c38a420ba7a3a58b5793e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff3f8e1289c38a420ba7a3a58b5793e">&#9670;&nbsp;</a></span>getRecentlyPlayedTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpotifyAPI::getRecentlyPlayedTracks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Using access token, trigger API call to retrieve recently played tracks Retrieve raw JSON response of recently played song data from Spotify API using cURL, store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ashwin Singh </dd></dl>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                                         {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keyword">struct </span>curl_slist *headers;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    headers = NULL;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    headers = curl_slist_append(headers, <span class="stringliteral">&quot;Accept: application/json&quot;</span>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    headers = curl_slist_append(headers, <span class="stringliteral">&quot;Content-Type: application/json&quot;</span>);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    std::string auth = <span class="stringliteral">&quot;Authorization: Bearer &quot;</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    auth.append(<a class="code" href="classSpotifyAPI.html#ae9b06266b297641418b834112eea24e6">access_token</a>);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    headers = curl_slist_append(headers, auth.c_str());</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="classSpotifyAPI.html#a8e4da61fecf40a5677c275b10d771161">curl_response_make</a> = <span class="keyword">new</span> <a class="code" href="classCurlHelper.html">CurlHelper</a>(headers, <span class="stringliteral">&quot;https://api.spotify.com/v1/me/player/recently-played?limit=5&quot;</span>, <span class="stringliteral">&quot;GET&quot;</span>);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="classSpotifyAPI.html#a4202bafa3fa12a99943ede3aa790ce1a">spotify_songs_response</a> = <a class="code" href="classSpotifyAPI.html#a8e4da61fecf40a5677c275b10d771161">curl_response_make</a>-&gt;<a class="code" href="classCurlHelper.html#a9429fc67cd5b674d10c7b76c0d5eb26e">get_response</a>();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a40e30a70f52e595680f6c16133567ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40e30a70f52e595680f6c16133567ca0">&#9670;&nbsp;</a></span>parseAccessToken()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpotifyAPI::parseAccessToken </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse response from authentication request to retrieve access token Convert JSON response into a dictionary, parse response, retrieve access token &amp; store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Raw</td><td>authentication response string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ashwin Singh </dd></dl>
<div class="fragment"><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                                              { </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    Json::Reader reader;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    Json::Value obj;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    reader.parse(s, obj);</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <a class="code" href="classSpotifyAPI.html#ae9b06266b297641418b834112eea24e6">access_token</a> = obj[<span class="stringliteral">&quot;access_token&quot;</span>].asString();</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a015768af234256f2d85f85690b179463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a015768af234256f2d85f85690b179463">&#9670;&nbsp;</a></span>parseRecentTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpotifyAPI::parseRecentTracks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse response to retrieve recently played tracks Parse raw JSON response from Spotify API using dictionary, retrieve recently played songs &amp; store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ashwin Singh </dd></dl>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                   {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    Json::Reader reader;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    Json::Value obj;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    reader.parse(<a class="code" href="classSpotifyAPI.html#a4202bafa3fa12a99943ede3aa790ce1a">spotify_songs_response</a>, obj);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="classSpotifyAPI.html#a8bd6390758a75ddccd5e44efdc81ac55">recentSongs</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">//Nested JSON structure inside of items section, iterate through it to fetch tracks</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">for</span>(Json::Value::ArrayIndex i = 0; i != obj[<span class="stringliteral">&quot;items&quot;</span>].size(); i++) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="classSpotifyAPI.html#a8bd6390758a75ddccd5e44efdc81ac55">recentSongs</a> +=  <span class="stringliteral">&quot;Song: &quot;</span> + obj[<span class="stringliteral">&quot;items&quot;</span>][i][<span class="stringliteral">&quot;track&quot;</span>][<span class="stringliteral">&quot;name&quot;</span>].asString() + <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae9b06266b297641418b834112eea24e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9b06266b297641418b834112eea24e6">&#9670;&nbsp;</a></span>access_token</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string SpotifyAPI::access_token</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab977f7655481148ec4852a53dac944a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab977f7655481148ec4852a53dac944a2">&#9670;&nbsp;</a></span>base_64_encoding_auth_request</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* SpotifyAPI::base_64_encoding_auth_request</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8e4da61fecf40a5677c275b10d771161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4da61fecf40a5677c275b10d771161">&#9670;&nbsp;</a></span>curl_response_make</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCurlHelper.html">CurlHelper</a>* SpotifyAPI::curl_response_make</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7d8befbcbeae9ec6e166ce7e1589f8d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d8befbcbeae9ec6e166ce7e1589f8d7">&#9670;&nbsp;</a></span>curl_token_make</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCurlHelper.html">CurlHelper</a>* SpotifyAPI::curl_token_make</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8bd6390758a75ddccd5e44efdc81ac55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bd6390758a75ddccd5e44efdc81ac55">&#9670;&nbsp;</a></span>recentSongs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string SpotifyAPI::recentSongs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a01581d1d9ec52159289057f787149c6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01581d1d9ec52159289057f787149c6b">&#9670;&nbsp;</a></span>refresh_request</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* SpotifyAPI::refresh_request</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6332aa85a7bcc1e380b9eeab4fe4f56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6332aa85a7bcc1e380b9eeab4fe4f56b">&#9670;&nbsp;</a></span>spotify_auth_response</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string SpotifyAPI::spotify_auth_response</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4202bafa3fa12a99943ede3aa790ce1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4202bafa3fa12a99943ede3aa790ce1a">&#9670;&nbsp;</a></span>spotify_songs_response</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string SpotifyAPI::spotify_songs_response</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="SpotifyAPI_8h_source.html">SpotifyAPI.h</a></li>
<li><a class="el" href="SpotifyAPI_8cpp.html">SpotifyAPI.cpp</a></li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclassCurlHelper_html_a9429fc67cd5b674d10c7b76c0d5eb26e"><div class="ttname"><a href="classCurlHelper.html#a9429fc67cd5b674d10c7b76c0d5eb26e">CurlHelper::get_response</a></div><div class="ttdeci">std::string &amp; get_response()</div><div class="ttdoc">Getter to return raw JSON response Return raw JSON response stored to class member response-string.</div><div class="ttdef"><b>Definition:</b> CurlHelper.cpp:43</div></div>
<div class="ttc" id="aclassSpotifyAPI_html_ab977f7655481148ec4852a53dac944a2"><div class="ttname"><a href="classSpotifyAPI.html#ab977f7655481148ec4852a53dac944a2">SpotifyAPI::base_64_encoding_auth_request</a></div><div class="ttdeci">const char * base_64_encoding_auth_request</div><div class="ttdef"><b>Definition:</b> SpotifyAPI.h:61</div></div>
<div class="ttc" id="aclassSpotifyAPI_html_a015768af234256f2d85f85690b179463"><div class="ttname"><a href="classSpotifyAPI.html#a015768af234256f2d85f85690b179463">SpotifyAPI::parseRecentTracks</a></div><div class="ttdeci">void parseRecentTracks()</div><div class="ttdoc">Parse response to retrieve recently played tracks Parse raw JSON response from Spotify API using dict...</div><div class="ttdef"><b>Definition:</b> SpotifyAPI.cpp:42</div></div>
<div class="ttc" id="aclassSpotifyAPI_html_a4202bafa3fa12a99943ede3aa790ce1a"><div class="ttname"><a href="classSpotifyAPI.html#a4202bafa3fa12a99943ede3aa790ce1a">SpotifyAPI::spotify_songs_response</a></div><div class="ttdeci">std::string spotify_songs_response</div><div class="ttdef"><b>Definition:</b> SpotifyAPI.h:60</div></div>
<div class="ttc" id="aclassSpotifyAPI_html_a01581d1d9ec52159289057f787149c6b"><div class="ttname"><a href="classSpotifyAPI.html#a01581d1d9ec52159289057f787149c6b">SpotifyAPI::refresh_request</a></div><div class="ttdeci">const char * refresh_request</div><div class="ttdef"><b>Definition:</b> SpotifyAPI.h:62</div></div>
<div class="ttc" id="aclassSpotifyAPI_html_a8bd6390758a75ddccd5e44efdc81ac55"><div class="ttname"><a href="classSpotifyAPI.html#a8bd6390758a75ddccd5e44efdc81ac55">SpotifyAPI::recentSongs</a></div><div class="ttdeci">std::string recentSongs</div><div class="ttdef"><b>Definition:</b> SpotifyAPI.h:64</div></div>
<div class="ttc" id="aclassSpotifyAPI_html_a40e30a70f52e595680f6c16133567ca0"><div class="ttname"><a href="classSpotifyAPI.html#a40e30a70f52e595680f6c16133567ca0">SpotifyAPI::parseAccessToken</a></div><div class="ttdeci">void parseAccessToken(std::string &amp;s)</div><div class="ttdoc">Parse response from authentication request to retrieve access token Convert JSON response into a dict...</div><div class="ttdef"><b>Definition:</b> SpotifyAPI.cpp:16</div></div>
<div class="ttc" id="aclassSpotifyAPI_html_a8ff3f8e1289c38a420ba7a3a58b5793e"><div class="ttname"><a href="classSpotifyAPI.html#a8ff3f8e1289c38a420ba7a3a58b5793e">SpotifyAPI::getRecentlyPlayedTracks</a></div><div class="ttdeci">void getRecentlyPlayedTracks()</div><div class="ttdoc">Using access token, trigger API call to retrieve recently played tracks Retrieve raw JSON response of...</div><div class="ttdef"><b>Definition:</b> SpotifyAPI.cpp:25</div></div>
<div class="ttc" id="aclassSpotifyAPI_html_ae9b06266b297641418b834112eea24e6"><div class="ttname"><a href="classSpotifyAPI.html#ae9b06266b297641418b834112eea24e6">SpotifyAPI::access_token</a></div><div class="ttdeci">std::string access_token</div><div class="ttdef"><b>Definition:</b> SpotifyAPI.h:63</div></div>
<div class="ttc" id="aclassCurlHelper_html"><div class="ttname"><a href="classCurlHelper.html">CurlHelper</a></div><div class="ttdoc">Helper class to set up and perform HTTP request using cURL Helper class handles header,...</div><div class="ttdef"><b>Definition:</b> CurlHelper.h:13</div></div>
<div class="ttc" id="aclassSpotifyAPI_html_a8e4da61fecf40a5677c275b10d771161"><div class="ttname"><a href="classSpotifyAPI.html#a8e4da61fecf40a5677c275b10d771161">SpotifyAPI::curl_response_make</a></div><div class="ttdeci">CurlHelper * curl_response_make</div><div class="ttdef"><b>Definition:</b> SpotifyAPI.h:66</div></div>
<div class="ttc" id="aclassSpotifyAPI_html_a7d8befbcbeae9ec6e166ce7e1589f8d7"><div class="ttname"><a href="classSpotifyAPI.html#a7d8befbcbeae9ec6e166ce7e1589f8d7">SpotifyAPI::curl_token_make</a></div><div class="ttdeci">CurlHelper * curl_token_make</div><div class="ttdef"><b>Definition:</b> SpotifyAPI.h:65</div></div>
<div class="ttc" id="aclassSpotifyAPI_html_a6332aa85a7bcc1e380b9eeab4fe4f56b"><div class="ttname"><a href="classSpotifyAPI.html#a6332aa85a7bcc1e380b9eeab4fe4f56b">SpotifyAPI::spotify_auth_response</a></div><div class="ttdeci">std::string spotify_auth_response</div><div class="ttdef"><b>Definition:</b> SpotifyAPI.h:59</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
